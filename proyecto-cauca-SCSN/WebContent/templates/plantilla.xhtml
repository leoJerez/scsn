<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui">

	<f:view contentType="text/html">
	
		<h:head>
			<title><ui:insert name="head"></ui:insert></title>
			
			<!-- <h:outputStylesheet library="css" name="default.css"/>
			<meta content=text/html charset="UTF-8" http-equiv="Content-Type"/> -->
			
			<link type="text/css" rel="stylesheet" href="#{request.contextPath}/themes/redmond/skin.css" />
			<link type="text/css" rel="stylesheet" href="#{request.contextPath}/css/default.css" />
			
			<style type="text/css">
			.new {
			background: url(../images/new-ico.gif) no-repeat 1%;
			}
			
			.ui-widget {
			font-size: 98% !important;
			}
			
			.ui-menu .ui-menu-item .ui-menu-item-label {
			padding: .2em 1.7em;
			}
			
			.ui-growl {
			top:115px;
			}
			
			.themeMenu {
			overflow: auto;
			height:300px;
			width:200px;
			}
			</style>
		<!-- 
		<link href="#{request.contextPath}/css/jimgMenu.css" rel="stylesheet" type="text/css" />
		<script type="text/javascript" src="#{request.contextPath}/js/jquery.js"></script>
		<script type="text/javascript" src="#{request.contextPath}/js/jquery-easing-1.3.pack.js"></script>
		<script type="text/javascript" src="#{request.contextPath}/js/jquery-easing-compatibility.1.2.pack.js"></script>
		<script type="text/javascript" src="#{request.contextPath}/js/menuPpal.js"></script>
		 -->
		
		
		</h:head>
		
		<h:body>
			<div class="ui-widget ui-widget-header">
				<div id="logo">
					<h1>Sistema para el Control y Seguimiento de Neumáticos </h1>
				</div>
			</div>
			
			
			<div id="wrapper">
				
				<div id="page">
					<p:menubar>
						<p:submenu label="Inicio">
							<p:menuitem value="Inicio" url="/contenido/principal.xhtml"></p:menuitem>
						</p:submenu>
						<p:submenu label="Gestión Empresa">
								<p:menuitem value="Empresa" url="/contenido/empresas.xhtml" />
								<p:menuitem value="Empleados" url="/contenido/empleados.xhtml" rendered="#{controladorPlantilla.renderEmpleado}"/>
								<p:menuitem value="Proveedores" url="/contenido/proveedores.xhtml" rendered="#{controladorPlantilla.renderProveedor}"/>
								<p:menuitem value="Rutas" url="/contenido/rutas.xhtml" rendered="#{controladorPlantilla.renderRutas}"/>
								<!--<p:menuitem value="Cargos" url="/contenido/cargos.xhtml" rendered="#{controladorPlantilla.renderRutas}"/>-->
						</p:submenu>
						<p:submenu label="Vehículos">
							<p:menuitem value="Gestionar Vehículos" url="/contenido/vehiculos.xhtml"></p:menuitem>
							<p:submenu id="gestionVehiculo" label="Configuraciones">
								<p:menuitem value="Marcas" url="/contenido/marcasVehiculo.xhtml" rendered="#{controladorPlantilla.renderConfiguracionesMarcas}"/>
								<p:menuitem value="Modelos" url="/contenido/modelosVehiculo.xhtml" rendered="#{controladorPlantilla.renderConfiguracionesModelos}"/>
								<p:menuitem value="Tipos de Vehículos" url="/contenido/tiposVehiculo.xhtml" rendered="#{controladorPlantilla.renderConfiguracionesTiposVehiculos}"/>
								<p:menuitem value="Esquemas de Ejes" url="/contenido/esquemaEjes.xhtml" rendered="#{controladorPlantilla.renderConfiguracionesEsquemaEjes}"/>
							</p:submenu>
						</p:submenu>
						<p:submenu label="Neumáticos">
							<p:menuitem value="Gestionar Neumáticos" url="/contenido/neumaticos.xhtml" rendered="#{controladorPlantilla.renderGestionarNeumaticos}"></p:menuitem>
							<p:submenu label="Acciones">
								<p:menuitem value="Reingresos" url="#"/>
								<p:menuitem value="Enviar desde Almacén 'Listos para Montar'" url="#"/>
								<p:menuitem value="Cambiar Sentido de Giro" url="#"/>
								<p:menuitem value="Dar de Baja" url="#"/>
							</p:submenu>
							<p:submenu label="Configuraciones">
								<p:menuitem value="Marcas" url="/contenido/marcasNeumatico.xhtml" rendered="#{controladorPlantilla.renderConfiguracionesNeumaticosMarcas}"/>
								<p:menuitem value="Medidas" url="/contenido/medidasNeumatico.xhtml" rendered="#{controladorPlantilla.renderConfiguracionesNeumaticosMedidas}"/>
								<p:menuitem value="Diseños" url="/contenido/disenosNeumatico.xhtml" rendered="#{controladorPlantilla.renderConfiguracionesNeumaticosDiseño}"/>
							</p:submenu>
							<p:menuitem value="Historial de Neumáticos" url="#"></p:menuitem>
						</p:submenu>
						<p:submenu label="Movimientos">
							<p:menuitem value="Pantalla Unificada" url="/contenido/movimientosNeumaticoMDR.xhtml"/>
							<!--<p:menuitem value="Montaje" url="/contenido/montaje.xhtml"/>
							<p:menuitem value="Desmontaje" url="/contenido/desmontaje.xhtml"/>  -->
							<p:menuitem value="Inspección" url="#"/>
							<p:menuitem value="Causas de Operaciones" url="/contenido/causasOperacion.xhtml" rendered="#{controladorPlantilla.renderMovimientosCausasOperaciones}"/>
							<p:menuitem value="Tipos de Desgaste" url="/contenido/tiposDesgaste.xhtml" rendered="#{controladorPlantilla.renderMovimientosTiposDesgaste}"/>
							<p:menuitem value="Historial" url="#"></p:menuitem>
						</p:submenu>
						<p:submenu label="Listados y Reportes">
							<p:submenu label="Neumáticos">
							
							</p:submenu>
							<p:submenu label="Vehículos">
								<p:submenu label="Fichas de Vehículos">
									<p:menuitem value="Individual" url="#"></p:menuitem>
									<p:menuitem value="Ver Todas" url="#"></p:menuitem>
								</p:submenu>
								<p:menuitem value="Neumáticos para Girar" url="#"></p:menuitem>
							</p:submenu>
							<p:submenu label="Gráficos y Resúmenes">
							
							</p:submenu>
						</p:submenu>
						<p:submenu label="Seguridad">
							<p:menuitem value="Cuentas de Usuario" url="#"/>
							<p:menuitem value="Grupos y Roles" url="#"/>
							<p:menuitem value="Permisos" url="#"/>
						</p:submenu>
						
						<p:submenu label="Operador Cauca">
							<p:menuitem value="Mantenimiento" url="#" onclick="loginOperador.show();" />
						</p:submenu>
						
						<p:submenu label="Salir">
							<p:menuitem value="Cerrar sesión" url="../login.xhtml" actionListener="#{serviciosVentanaLogin.logout}" process="@this"></p:menuitem>
						</p:submenu>
					</p:menubar>
				
				<br>
				</br>
					 <div id="sidebar1" class="ui-widget-content ui-corner-all ui-helper-clearfix sidebar" style="border: 0;margin-top: 0px;">
					
						
						<h:form id="frmMenu" prependId="false" >
						
						</h:form>  
					</div>
					
					<div id="content" class="ui-widget">
						<div class="post">
							<ui:insert name="content">
							
							</ui:insert>
						</div>
						
					</div>
					
					<!--  
					<div class="jimgMenu">
					  <ul>
					    <li class="inicio"><a href="#">Inicio</a></li>
					    <li class="empresa"><a href="#">Empresas</a></li>
					    <li class="vehiculo"><a href="#">Vehículos</a></li>
					    <li class="neumatico"><a href="#">Neumáticos</a></li>
					    <li class="movimiento"><a href="#">Movimientos</a></li>
					  </ul>
					</div>
					-->
				</div>
			</div>
			<div id="footer" class="ui-widget ui-widget-header ui-corner-all">
				<p class="copyright"> Renovadora Cauca, C.A. - Venezuela  </p>
			</div>
		</h:body>
		
		<ui:insert name="highlight">
			<script language="javascript" src="#{request.contextPath}/syntaxhighlighter/scripts/shCore.js"></script>
			<script language="javascript" src="#{request.contextPath}/syntaxhighlighter/scripts/shBrushXml.js"></script>
			<script language="javascript" src="#{request.contextPath}/syntaxhighlighter/scripts/shBrushJava.js"></script>
			<script language="javascript" src="#{request.contextPath}/syntaxhighlighter/scripts/shBrushCss.js"></script>
			<script language="javascript" src="#{request.contextPath}/syntaxhighlighter/scripts/shBrushJScript.js"></script>
			<script language="javascript">
				dp.SyntaxHighlighter.ClipboardSwf = '#{request.contextPath}/syntaxhighlighter/scripts/clipboard.swf';
				dp.SyntaxHighlighter.HighlightAll('code');
			</script>
		</ui:insert>
	
	</f:view>
	
<!-- ················································LOGIN DE ACCESO AL RESPALDO ··············································· -->
	<p:growl id="mensajesPlantilla" showDetail="true" life="2000" />
	<script type="text/javascript">
	    function handleClick(xhr, status, args){
        	switch (args.tarea) {
				case "ventanaMantenimiento":
					ventanaMantenimiento.show();
					break;	
				
			}
        }
	  //Funcion que llama a las formularios "Nuevo" y los vuelve a cargar
		function refrescarNuevo(xhr, status, args) {
			if (args.limpiar) {
				document.getElementById("formLoginOperador").reset();
				document.getElementById("formMantenimiento").reset();
			}
		}
	</script>  

	<p:dialog widgetVar="loginOperador"  width="320" modal="true" appendToBody="true" closeOnEscape="false" 
			  closable="false" header="Login - Operador Cauca">
		<h:form id="formLoginOperador">
			<p:panel>
				<h:panelGrid columns="2">
					<h:outputLabel for="user" value="Usuario:" />
	          		<h:inputText value="#{serviciosVentanaEncuesta.loginOperador}" id="user" 
	             				 required="true" label="user" />
	          		<h:outputLabel for="password" value="Contraseña:" />
	        		<p:password promptLabel="Introduzca su clave" weakLabel="Débil" goodLabel="Buena" strongLabel="Fuerte"
	        					value="#{serviciosVentanaEncuesta.claveOperador}" id="password" required="true"
	           				 	label="password" />
			        <f:facet name="footer">
			        	<p:commandButton id="btnLogin" value="Entrar" process="@this user password" oncomplete="handleClick(xhr, status, args);refrescarNuevo(xhr, status, args);" 
							             actionListener="#{serviciosVentanaEncuesta.loginOperadorCauca}" update=":mensajesPlantilla"
							       		 />
						<p:commandButton value="Cancelar" style="margin-left:5px" process="@this" actionListener="#{serviciosVentanaEncuesta.cancelar}"  
										 oncomplete="loginOperador.hide(); refrescarNuevo(xhr, status, args);"
									     image="ui-icon-closethick"/>
			        </f:facet>
				</h:panelGrid>
			</p:panel>
		</h:form>
	</p:dialog>	
	
<!-- ················································VENTANA MANTENIMIENTO ··············································· -->		

	<p:dialog widgetVar="ventanaMantenimiento" width="500" height="350" header="Visita" modal="true" appendToBody="true"
			  closable="false" closeOnEscape="false">
		<h:form id="formMantenimiento">
			<p:panel>
				<p:fieldset legend="Visita" toggleable="true" toggleSpeed="500" collapsed="true">
					<h:panelGrid columns="2">
						<h:outputLabel value="Fecha: " for="fecha"/>
						<h:outputLabel id="fecha" value="#{serviciosVentanaEncuesta.fechaVisita}"/>
						<h:outputLabel value="Observaciones" for="obs"/>
						<h:inputTextarea id="obs" value="#{serviciosVentanaEncuesta.observacionesVisita}"/>
					</h:panelGrid>
					<h:panelGrid>
						<f:facet name="footer">
			        		<p:commandButton value="Guardar" process="@this fecha obs" 
							      	 		 update="mensajesPlantilla" actionListener="#{serviciosVentanaEncuesta.guardarVisita}"/>
			        	</f:facet>
			        </h:panelGrid>
				</p:fieldset>
				<br></br>
				<p:fieldset legend="Respaldar Data" toggleable="true" toggleSpeed="500" collapsed="true">
					<h:panelGrid columns="2" >
						<h:outputLabel value="Nombre del Archivo: " for="nombreArchivo"/>
						<h:inputText id="nombreArchivo" value="#{serviciosVentanaEncuesta.guardarArchivo}"/>
					</h:panelGrid>
					
					<h:panelGrid>
						<f:facet name="footer">
			        		<p:commandButton value="Guardar" actionListener="#{serviciosVentanaEncuesta.guardarRespaldo}" process="@this nombreArchivo" 
							      	 		 update="mensajesPlantilla"/>
			        </f:facet>
				</h:panelGrid>
				</p:fieldset>
			
				<h:panelGrid style="width:101%; text-align:right;">
					<f:facet name="footer">
						<p:commandButton value="Cerrar" style="margin-left:5px" actionListener="#{serviciosVentanaEncuesta.cancelar}" 
										 oncomplete="ventanaMantenimiento.hide();loginOperador.hide();refrescarNuevo(xhr, status, args);"
									     image="ui-icon-closethick" process="@this"/>
			        </f:facet>
				</h:panelGrid>
			</p:panel>
			<p>Nota: Seleccione una de las opciones para realizar la operación</p>
		</h:form>
	</p:dialog>

</html>